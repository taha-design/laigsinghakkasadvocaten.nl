"use strict";(function(){var e=document.querySelector(".site-navigation");var t=document.querySelectorAll(".site-navigation a");var a=document.querySelector("main");var n=document.querySelector(".loading-bar");var r=e.querySelector(".active");var i;var o=function(){var e=window.location.pathname;var t=document.querySelector('a.page-link[href="'+e+'"]');t.classList.add("active");r.classList.remove("active");r=t};var c=function(){var e=window.location.pathname;f(e)};var s=function(e){history.pushState(null,null,e)};var l=function(){n.classList.remove("hide");n.classList.add("animate")};var u=function(){var e=function(){n.classList.remove("animate","hide");n.removeEventListener("transitionend",e)};n.addEventListener("transitionend",e);n.classList.add("hide")};var v=function(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")};var d=function(){a.className="";a.classList.add(v(r.innerHTML))};var f=function(e){var t=new DocumentFragment;var n=new XMLHttpRequest;var c=false;i=setTimeout(function(){l();c=true},500);n.onload=function(n){var s=n.target.response;var l=s.querySelector("main");a.innerHTML="";while(l.firstChild){t.appendChild(l.firstChild)}o(e);d();document.title=r.innerHTML;a.appendChild(t);clearTimeout(i);if(c){u();c=false}};n.onerror=function(e){clearTimeout(i);if(c){u();c=false}};n.responseType="document";n.open("GET",e);n.send()};var m=function(e){if(e.target.classList.contains("page-link")){e.preventDefault();if(e.target===r){return}var t=e.target;var a=t.href;s(a);f(a)}};e.addEventListener("click",m);window.addEventListener("popstate",c)})();
